#pragma once

#include <utility>
#include <array>
#include <limits>

struct Rotation {
    char angle = 0;

    static double rotationMatrices[256][2] = {
        {1, 0},{0.999698818696204, 0.0245412285229123},{0.998795456205172, 0.049067674327418},{0.99729045667869, 0.0735645635996674},
        {0.995184726672197, 0.0980171403295606},{0.99247953459871, 0.122410675199216},{0.989176509964781, 0.146730474455362},{0.985277642388941, 0.170961888760301},
        {0.98078528040323, 0.195090322016128},{0.975702130038529, 0.21910124015687},{0.970031253194544, 0.242980179903264},{0.96377606579544, 0.266712757474898},
        {0.956940335732209, 0.290284677254462},{0.949528180593037, 0.313681740398892},{0.941544065183021, 0.33688985339222},{0.932992798834739, 0.359895036534988},
        {0.923879532511287, 0.38268343236509},{0.914209755703531, 0.40524131400499},{0.903989293123443, 0.427555093430282},{0.893224301195515, 0.449611329654607},
        {0.881921264348355, 0.471396736825998},{0.870086991108711, 0.492898192229784},{0.857728610000272, 0.514102744193222},{0.844853565249707, 0.534997619887097},
        {0.831469612302545, 0.555570233019602},{0.817584813151584, 0.575808191417845},{0.803207531480645, 0.595699304492433},{0.788346427626606, 0.615231590580627},
        {0.773010453362737, 0.634393284163645},{0.757208846506485, 0.653172842953777},{0.740951125354959, 0.671558954847018},{0.724247082951467, 0.689540544737067},
        {0.707106781186548, 0.707106781186547},{0.689540544737067, 0.724247082951467},{0.671558954847018, 0.740951125354959},{0.653172842953777, 0.757208846506484},
        {0.634393284163645, 0.773010453362737},{0.615231590580627, 0.788346427626606},{0.595699304492433, 0.803207531480645},{0.575808191417845, 0.817584813151584},
        {0.555570233019602, 0.831469612302545},{0.534997619887097, 0.844853565249707},{0.514102744193222, 0.857728610000272},{0.492898192229784, 0.870086991108711},
        {0.471396736825998, 0.881921264348355},{0.449611329654607, 0.893224301195515},{0.427555093430282, 0.903989293123443},{0.40524131400499, 0.914209755703531},
        {0.38268343236509, 0.923879532511287},{0.359895036534988, 0.932992798834739},{0.33688985339222, 0.941544065183021},{0.313681740398892, 0.949528180593037},
        {0.290284677254462, 0.956940335732209},{0.266712757474898, 0.96377606579544},{0.242980179903264, 0.970031253194544},{0.21910124015687, 0.975702130038529},
        {0.195090322016128, 0.98078528040323},{0.170961888760301, 0.985277642388941},{0.146730474455362, 0.989176509964781},{0.122410675199216, 0.99247953459871},
        {0.0980171403295608, 0.995184726672197},{0.0735645635996675, 0.99729045667869},{0.0490676743274181, 0.998795456205172},{0.0245412285229123, 0.999698818696204},
        {6.12323399573677e-17, 1},{-0.0245412285229121, 0.999698818696204},{-0.049067674327418, 0.998795456205172},{-0.0735645635996673, 0.99729045667869},
        {-0.0980171403295606, 0.995184726672197},{-0.122410675199216, 0.99247953459871},{-0.146730474455362, 0.989176509964781},{-0.170961888760301, 0.985277642388941},
        {-0.195090322016128, 0.98078528040323},{-0.21910124015687, 0.975702130038529},{-0.242980179903264, 0.970031253194544},{-0.266712757474898, 0.96377606579544},
        {-0.290284677254462, 0.956940335732209},{-0.313681740398891, 0.949528180593037},{-0.33688985339222, 0.941544065183021},{-0.359895036534988, 0.932992798834739},
        {-0.38268343236509, 0.923879532511287},{-0.40524131400499, 0.914209755703531},{-0.427555093430282, 0.903989293123443},{-0.449611329654607, 0.893224301195515},
        {-0.471396736825998, 0.881921264348355},{-0.492898192229784, 0.870086991108711},{-0.514102744193222, 0.857728610000272},{-0.534997619887097, 0.844853565249707},
        {-0.555570233019602, 0.831469612302545},{-0.575808191417845, 0.817584813151584},{-0.595699304492433, 0.803207531480645},{-0.615231590580627, 0.788346427626606},
        {-0.634393284163645, 0.773010453362737},{-0.653172842953777, 0.757208846506485},{-0.671558954847018, 0.740951125354959},{-0.689540544737067, 0.724247082951467},
        {-0.707106781186547, 0.707106781186548},{-0.724247082951467, 0.689540544737067},{-0.740951125354959, 0.671558954847019},{-0.757208846506485, 0.653172842953777},
        {-0.773010453362737, 0.634393284163645},{-0.788346427626606, 0.615231590580627},{-0.803207531480645, 0.595699304492433},{-0.817584813151584, 0.575808191417845},
        {-0.831469612302545, 0.555570233019602},{-0.844853565249707, 0.534997619887097},{-0.857728610000272, 0.514102744193222},{-0.870086991108711, 0.492898192229784},
        {-0.881921264348355, 0.471396736825998},{-0.893224301195515, 0.449611329654607},{-0.903989293123443, 0.427555093430282},{-0.914209755703531, 0.40524131400499},
        {-0.923879532511287, 0.38268343236509},{-0.932992798834739, 0.359895036534988},{-0.941544065183021, 0.33688985339222},{-0.949528180593037, 0.313681740398891},
        {-0.956940335732209, 0.290284677254462},{-0.96377606579544, 0.266712757474898},{-0.970031253194544, 0.242980179903264},{-0.975702130038528, 0.21910124015687},
        {-0.98078528040323, 0.195090322016129},{-0.985277642388941, 0.170961888760301},{-0.989176509964781, 0.146730474455362},{-0.99247953459871, 0.122410675199216},
        {-0.995184726672197, 0.0980171403295608},{-0.99729045667869, 0.0735645635996677},{-0.998795456205172, 0.049067674327418},{-0.999698818696204, 0.0245412285229123},
        {-1, 1.22464679914735e-16},{-0.999698818696204, -0.0245412285229121},{-0.998795456205172, -0.0490676743274177},{-0.99729045667869, -0.0735645635996675},
        {-0.995184726672197, -0.0980171403295606},{-0.99247953459871, -0.122410675199216},{-0.989176509964781, -0.146730474455362},{-0.985277642388941, -0.170961888760301},
        {-0.98078528040323, -0.195090322016128},{-0.975702130038529, -0.21910124015687},{-0.970031253194544, -0.242980179903264},{-0.96377606579544, -0.266712757474898},
        {-0.956940335732209, -0.290284677254462},{-0.949528180593037, -0.313681740398891},{-0.941544065183021, -0.33688985339222},{-0.932992798834739, -0.359895036534988},
        {-0.923879532511287, -0.38268343236509},{-0.914209755703531, -0.40524131400499},{-0.903989293123443, -0.427555093430282},{-0.893224301195515, -0.449611329654607},
        {-0.881921264348355, -0.471396736825998},{-0.870086991108711, -0.492898192229784},{-0.857728610000272, -0.514102744193222},{-0.844853565249707, -0.534997619887097},
        {-0.831469612302545, -0.555570233019602},{-0.817584813151584, -0.575808191417845},{-0.803207531480645, -0.595699304492433},{-0.788346427626606, -0.615231590580627},
        {-0.773010453362737, -0.634393284163645},{-0.757208846506485, -0.653172842953777},{-0.740951125354959, -0.671558954847018},{-0.724247082951467, -0.689540544737067},
        {-0.707106781186548, -0.707106781186547},{-0.689540544737067, -0.724247082951467},{-0.671558954847019, -0.740951125354959},{-0.653172842953777, -0.757208846506484},
        {-0.634393284163646, -0.773010453362737},{-0.615231590580627, -0.788346427626606},{-0.595699304492433, -0.803207531480645},{-0.575808191417845, -0.817584813151584},
        {-0.555570233019602, -0.831469612302545},{-0.534997619887097, -0.844853565249707},{-0.514102744193222, -0.857728610000272},{-0.492898192229784, -0.870086991108711},
        {-0.471396736825998, -0.881921264348355},{-0.449611329654607, -0.893224301195515},{-0.427555093430282, -0.903989293123443},{-0.40524131400499, -0.91420975570353},
        {-0.38268343236509, -0.923879532511287},{-0.359895036534988, -0.932992798834739},{-0.33688985339222, -0.941544065183021},{-0.313681740398891, -0.949528180593037},
        {-0.290284677254462, -0.956940335732209},{-0.266712757474899, -0.96377606579544},{-0.242980179903264, -0.970031253194544},{-0.21910124015687, -0.975702130038528},
        {-0.195090322016129, -0.98078528040323},{-0.170961888760302, -0.985277642388941},{-0.146730474455362, -0.989176509964781},{-0.122410675199216, -0.99247953459871},
        {-0.0980171403295605, -0.995184726672197},{-0.0735645635996674, -0.99729045667869},{-0.049067674327418, -0.998795456205172},{-0.0245412285229124, -0.999698818696204},
        {-1.83697019872103e-16, -1},{0.024541228522912, -0.999698818696204},{0.0490676743274177, -0.998795456205172},{0.073564563599667, -0.99729045667869},
        {0.0980171403295601, -0.995184726672197},{0.122410675199216, -0.99247953459871},{0.146730474455362, -0.989176509964781},{0.170961888760301, -0.985277642388941},
        {0.195090322016128, -0.98078528040323},{0.21910124015687, -0.975702130038529},{0.242980179903264, -0.970031253194544},{0.266712757474898, -0.96377606579544},
        {0.290284677254462, -0.956940335732209},{0.313681740398891, -0.949528180593037},{0.33688985339222, -0.941544065183021},{0.359895036534988, -0.932992798834739},
        {0.38268343236509, -0.923879532511287},{0.40524131400499, -0.914209755703531},{0.427555093430282, -0.903989293123443},{0.449611329654607, -0.893224301195515},
        {0.471396736825998, -0.881921264348355},{0.492898192229784, -0.870086991108711},{0.514102744193222, -0.857728610000272},{0.534997619887097, -0.844853565249707},
        {0.555570233019602, -0.831469612302545},{0.575808191417845, -0.817584813151584},{0.595699304492433, -0.803207531480645},{0.615231590580627, -0.788346427626606},
        {0.634393284163646, -0.773010453362737},{0.653172842953777, -0.757208846506485},{0.671558954847018, -0.740951125354959},{0.689540544737067, -0.724247082951467},
        {0.707106781186547, -0.707106781186548},{0.724247082951467, -0.689540544737067},{0.740951125354959, -0.671558954847019},{0.757208846506484, -0.653172842953777},
        {0.773010453362737, -0.634393284163646},{0.788346427626606, -0.615231590580627},{0.803207531480645, -0.595699304492433},{0.817584813151584, -0.575808191417845},
        {0.831469612302545, -0.555570233019602},{0.844853565249707, -0.534997619887097},{0.857728610000272, -0.514102744193222},{0.870086991108711, -0.492898192229784},
        {0.881921264348355, -0.471396736825998},{0.893224301195515, -0.449611329654607},{0.903989293123443, -0.427555093430283},{0.91420975570353, -0.40524131400499},
        {0.923879532511287, -0.38268343236509},{0.932992798834739, -0.359895036534988},{0.941544065183021, -0.33688985339222},{0.949528180593037, -0.313681740398892},
        {0.956940335732209, -0.290284677254462},{0.96377606579544, -0.266712757474899},{0.970031253194544, -0.242980179903264},{0.975702130038528, -0.21910124015687},
        {0.98078528040323, -0.195090322016129},{0.985277642388941, -0.170961888760302},{0.989176509964781, -0.146730474455362},{0.99247953459871, -0.122410675199216},
        {0.995184726672197, -0.0980171403295605},{0.99729045667869, -0.0735645635996674},{0.998795456205172, -0.0490676743274181},{0.999698818696204, -0.0245412285229124}
    };

    void RotationMatrix( double & xi,
                            double & xj,
                            double & yi,
                            double & yj ) {
        xi = rotationMatrices[angle][0];
        xj = rotationMatrices[angle][1];
        yi = - rotationMatrices[angle][1];
        yj = rotationMatrices[angle][0];
    }
};